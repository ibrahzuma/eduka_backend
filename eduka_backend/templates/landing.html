{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eDuka - The Operating System for Smart Retail</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}?v=2">
    <meta name="description"
        content="Manage your retail business with eDuka. Track sales, inventory, and employees from anywhere. The #1 POS for Tanzania.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --primary: #6366f1;
            /* Indigo 500 */
            --primary-glow: rgba(99, 102, 241, 0.4);
            --secondary: #0f172a;
            --accent: #f43f5e;
            /* Rose 500 */
            --bg-glass: rgba(255, 255, 255, 0.7);
            --text-main: #1e293b;
            --text-muted: #64748b;
        }

        body {
            font-family: 'Outfit', sans-serif;
            color: var(--text-main);
            background: #fff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: var(--secondary);
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        /* Animated Mesh Background */
        .mesh-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-color: #fff;
            background-image:
                radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 1) 0, transparent 50%),
                radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 1) 0, transparent 50%),
                radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 1) 0, transparent 50%);
            opacity: 0.05;
        }

        /* Custom Navbar */
        .navbar {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            padding: 1.2rem 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .navbar.scrolled {
            padding: 0.8rem 0;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
        }

        .navbar-brand span {
            background: linear-gradient(135deg, var(--primary), #818cf8);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .nav-link {
            font-weight: 600;
            color: var(--text-main);
            margin: 0 0.8rem;
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Premium Buttons */
        .btn-premium {
            background: linear-gradient(135deg, var(--primary) 0%, #4f46e5 100%);
            color: #fff;
            padding: 0.8rem 2rem;
            border-radius: 14px;
            font-weight: 700;
            border: none;
            box-shadow: 0 10px 20px -5px var(--primary-glow);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .btn-premium:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 30px -5px var(--primary-glow);
            color: #fff;
        }

        .btn-modern-outline {
            padding: 0.8rem 2rem;
            border-radius: 14px;
            font-weight: 700;
            border: 2px solid #e2e8f0;
            background: transparent;
            transition: all 0.2s;
        }

        .btn-modern-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* Hero Section */
        .hero-section {
            padding: 180px 0 120px;
            text-align: center;
        }

        .hero-tag {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 100px;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2rem;
            display: inline-block;
        }

        .hero-title {
            font-size: 5rem;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(to bottom, #0f172a, #334155);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @media (max-width: 991px) {
            .hero-title {
                font-size: 3.5rem;
            }
        }

        .hero-desc {
            font-size: 1.35rem;
            color: var(--text-muted);
            max-width: 700px;
            margin: 0 auto 3rem;
            line-height: 1.6;
        }

        /* Hero Mockup Glassmorphism */
        .floating-mockup {
            position: relative;
            background: #fff;
            border-radius: 30px;
            padding: 10px;
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(0, 0, 0, 0.05);
            transform: perspective(1000px) rotateX(5deg);
            transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .floating-mockup:hover {
            transform: perspective(1000px) rotateX(0deg) translateY(-20px);
        }

        /* Features Section */
        .features-section {
            padding: 120px 0;
            background: #f8fafc;
        }

        .feature-card {
            background: #fff;
            padding: 3rem 2rem;
            border-radius: 32px;
            border: 1px solid rgba(0, 0, 0, 0.03);
            transition: all 0.4s;
            height: 100%;
        }

        .feature-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 40px 60px -15px rgba(0, 0, 0, 0.08);
            border-color: var(--primary);
        }

        .feature-icon-wrapper {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 2rem;
        }

        /* Pricing Section */
        .pricing-section {
            padding: 120px 0;
        }

        .pricing-card {
            background: #fff;
            padding: 3.5rem 3rem;
            border-radius: 40px;
            border: 2px solid #f1f5f9;
            transition: 0.4s;
            position: relative;
        }

        .pricing-card.featured {
            border-color: var(--primary);
            box-shadow: 0 30px 60px -12px rgba(99, 102, 241, 0.2);
        }

        .price-tag {
            font-size: 3rem;
            font-weight: 800;
        }

        .pricing-list li {
            margin-bottom: 1rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pricing-list i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        /* CTA Section */
        .cta-section {
            padding: 80px 0;
        }

        .cta-gradient {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border-radius: 50px;
            padding: 6rem;
            color: #fff;
            position: relative;
            overflow: hidden;
        }

        .cta-gradient h2 {
            color: #fff;
        }

        .blob {
            position: absolute;
            width: 400px;
            height: 400px;
            background: var(--primary);
            filter: blur(80px);
            opacity: 0.2;
            z-index: 0;
        }

        /* Animations */
        [data-aos] {
            pointer-events: none;
        }

        .aos-animate {
            pointer-events: auto;
        }
    </style>
</head>

<body>
    <div class="mesh-bg"></div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="#">
                <img src="{% static 'img/logoeduka.png' %}" alt="eDuka" width="40"
                    onerror="this.src='https://placehold.co/40x40/6366f1/fff?text=E'">
                <span class="fs-3">eDuka</span>
            </a>

            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse"
                data-bs-target="#navContent">
                <i class="bi bi-list fs-1"></i>
            </button>

            <div class="collapse navbar-collapse" id="navContent">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" href="#features">Capabilities</a></li>
                    <li class="nav-item"><a class="nav-link" href="#pricing">Pricing</a></li>
                    <li class="nav-item"><a class="nav-link" href="#testimonials">Success Stories</a></li>
                </ul>
                <div class="d-flex align-items-center gap-3">
                    {% if user.is_authenticated %}
                    <a href="{% url 'dashboard' %}" class="btn-premium">Dashboard</a>
                    {% else %}
                    <a href="{% url 'login' %}" class="fw-bold text-dark text-decoration-none px-3">Log In</a>
                    <a href="{% url 'register' %}" class="btn-premium">Get Started</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero-section">
        <div class="container">
            <div data-aos="fade-up">
                <span class="hero-tag">The Future of Retail is Here</span>
            </div>
            <h1 class="hero-title" data-aos="fade-up" data-aos-delay="100">
                Run your entire shop <br> from your pocket.
            </h1>
            <p class="hero-desc" data-aos="fade-up" data-aos-delay="200">
                Ditch the paperwork. eDuka is the ultra-modern POS and inventory system designed to help Tanzanian
                businesses scale with ease.
            </p>
            <div class="d-flex justify-content-center gap-4 mb-5" data-aos="fade-up" data-aos-delay="300">
                <a href="{% url 'register' %}" class="btn-premium btn-lg px-5 py-3">Start Free Trial</a>
                <a href="#features" class="btn-modern-outline btn-lg px-5 py-3">Explore Features</a>
            </div>

            <div class="row justify-content-center pt-5" data-aos="zoom-in-up" data-aos-delay="400">
                <div class="col-lg-11">
                    <div class="floating-mockup">
                        <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=1200&auto=format&fit=crop"
                            class="img-fluid rounded-4 shadow-sm" alt="eDuka Dashboard">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="container">
            <div class="text-center mb-5 pb-5">
                <h2 class="display-4 fw-bold mb-3" data-aos="fade-up">Built for modern commerce</h2>
                <p class="text-muted lead" data-aos="fade-up" data-aos-delay="100">Everything you need, nothing you
                    don't. Optimized for speed and reliability.</p>
            </div>

            <div class="row g-5">
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
                    <div class="feature-card">
                        <div class="feature-icon-wrapper"><i class="bi bi-lightning-charge"></i></div>
                        <h4>Instant Checkout</h4>
                        <p class="text-muted">Process transactions in milliseconds. Works flawlessly even when the
                            internet is down.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="feature-card">
                        <div class="feature-icon-wrapper"><i class="bi bi-box-seam"></i></div>
                        <h4>Smart Inventory</h4>
                        <p class="text-muted">Real-time tracking across all locations. Get notified before you run out
                            of stock.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
                    <div class="feature-card">
                        <div class="feature-icon-wrapper"><i class="bi bi-graph-up-arrow"></i></div>
                        <h4>Live Insights</h4>
                        <p class="text-muted">Powerful analytics at your fingertips. Identify your best products and top
                            performers instantly.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="pricing-section">
        <div class="container">
            <div class="text-center mb-5 pb-5">
                <h2 class="display-4 fw-bold" data-aos="fade-up">Simple, Honest Pricing</h2>
                <p class="text-muted lead" data-aos="fade-up" data-aos-delay="100">All plans include our standardized
                    enterprise-grade features.</p>
            </div>

            <div id="pricing-container" class="row justify-content-center g-4">
                <div class="col-12 text-center py-5">
                    <div class="spinner-border text-primary" role="status"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" class="py-5 bg-light">
        <div class="container py-5">
            <div class="row align-items-center g-5">
                <div class="col-lg-5">
                    <h2 class="display-5 fw-bold mb-4">Join the retail revolution.</h2>
                    <p class="lead text-muted mb-5">Hundreds of shop owners have already switched to eDuka to reclaim
                        their time and grow their profits.</p>
                    <div class="d-flex gap-4">
                        <div class="stat">
                            <h3 class="mb-0">500+</h3>
                            <small class="text-muted fw-bold">Active Shops</small>
                        </div>
                        <div class="stat border-start ps-4">
                            <h3 class="mb-0">1M+</h3>
                            <small class="text-muted fw-bold">Sales Recorded</small>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="row g-4">
                        <div class="col-md-12" data-aos="fade-left">
                            <div class="card border-0 shadow-sm p-4 rounded-4">
                                <p class="fs-5 italic">"eDuka transformed how I manage my pharmacy. I can track expiry
                                    dates and inventory from home with total peace of mind."</p>
                                <div class="d-flex align-items-center gap-3 mt-3">
                                    <div class="bg-primary text-white rounded-circle p-2">JA</div>
                                    <h6 class="mb-0">Juma Ali, Owner</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section container text-center">
        <div class="cta-gradient shadow-lg">
            <div class="blob" style="top: -100px; left: -100px;"></div>
            <div class="blob" style="bottom: -100px; right: -100px; background: #f43f5e;"></div>

            <h2 class="display-4 fw-bold mb-4 position-relative">Ready to upgrade your shop?</h2>
            <p class="lead mb-5 position-relative opacity-75">Scale your business with the most advanced retail platform
                in East Africa.</p>
            <a href="{% url 'register' %}" class="btn btn-premium btn-lg px-5 py-3 position-relative">Create Your
                Account</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 border-top mt-5">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-4">
                    <a class="navbar-brand d-flex align-items-center gap-2 mb-4" href="#">
                        <img src="{% static 'img/logoeduka.png' %}" alt="eDuka" width="30">
                        <span class="fs-4">eDuka</span>
                    </a>
                    <p class="text-muted">The ultimate platform for modern retail management. Empowering store owners
                        across Tanzania.</p>
                </div>
                <div class="col-lg-2 offset-lg-2">
                    <h6 class="fw-bold mb-4">Product</h6>
                    <ul class="list-unstyled text-muted d-grid gap-2">
                        <li>Features</li>
                        <li>Pricing</li>
                        <li>Support</li>
                    </ul>
                </div>
                <div class="col-lg-2">
                    <h6 class="fw-bold mb-4">Company</h6>
                    <ul class="list-unstyled text-muted d-grid gap-2">
                        <li>About</li>
                        <li>Contact</li>
                        <li>Terms</li>
                    </ul>
                </div>
            </div>
            <div class="mt-5 pt-5 border-top text-center text-muted small">
                &copy; 2026 eDuka Retail OS. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- JS Libs -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        AOS.init({ duration: 1000, once: true, offset: 100 });

        // Scroll Effect
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('.navbar');
            if (window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // Pricing Logic
        document.addEventListener('DOMContentLoaded', () => {
            fetch('/subscriptions/api/plans/')
                .then(r => r.json())
                .then(data => {
                    const container = document.getElementById('pricing-container');
                    container.innerHTML = '';

                    data.forEach((plan, idx) => {
                        const isFeatured = plan.name.toLowerCase().includes('pro');
                        const cardClass = isFeatured ? 'featured' : '';
                        const btnClass = isFeatured ? 'btn-premium' : 'btn-modern-outline';

                        const html = `
                            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="${idx * 100}">
                                <div class="pricing-card h-100 d-flex flex-column ${cardClass}">
                                    <h4 class="mb-2">${plan.name}</h4>
                                    <p class="text-muted small">${plan.description}</p>
                                    <div class="my-4">
                                        <span class="price-tag">${plan.display_price.split('/')[0]}</span>
                                        <span class="text-muted">/ ${plan.display_price.split('/')[1]}</span>
                                    </div>
                                    <ul class="list-unstyled pricing-list mb-5">
                                        <li><i class="bi bi-check-circle-fill"></i> ${plan.max_shops} Shop</li>
                                        <li><i class="bi bi-check-circle-fill"></i> ${plan.max_users} Staff Accounts</li>
                                        <li><i class="bi bi-check-circle-fill"></i> Priority Support</li>
                                        <li><i class="bi bi-check-circle-fill"></i> Daily Backups</li>
                                    </ul>
                                    <div class="mt-auto">
                                        <a href="{% url 'register' %}" class="btn ${btnClass} w-100">Choose ${plan.name}</a>
                                    </div>
                                </div>
                            </div>
                        `;
                        container.insertAdjacentHTML('beforeend', html);
                    });
                });
        });
    </script>
</body>

</html>